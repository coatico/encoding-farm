<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://java.sun.com/jsf/html">
    <ui:composition template="./common/template.xhtml">
        <ui:define name="title">
            Handle Jobs
        </ui:define>
        <ui:define name="content">
            <b:row>
				<b:panel>
					<h:form>
                                            Add Job <p:inputText value="#{job.jobTitle}"  label="Enter job here" id="job_crt_txt"/> 
						<p:watermark for="job_crt_txt" value="Enter job here" id="watermark" />
						<p:commandButton value="Create" update="@form" actionListener="#{job.create}" />
						<hr/>
                                                
						<hr/>
                                                
                                                <p:contextMenu for="jobdatatable" widgetVar="cMenu">   
       <p:menuitem value="Edit Cell" icon="ui-icon-search" onclick="PF('cellCars').showCellEditor();return false;"/>  
       <p:menuitem value="Hide Menu" icon="ui-icon-close" onclick="PF('cMenu').hide()"/>  
   </p:contextMenu> 
                                                
						<p:dataTable id="jobdatatable" var="jobs" value="#{job.list}" editable="true" editMode="cell" rows="10"
                         paginator="true"
                         paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                         rowsPerPageTemplate="5,10,15">
                                                    <f:facet name="header">
        List of Jobs
    </f:facet>
							<p:column headerText="Id">
								<h:outputText value="#{jobs.id}" />
							</p:column>
							<p:column headerText="jobTitle">
                                                            <p:cellEditor>
                                                                <f:facet name="output"><h:outputText value="#{jobs.jobTitle}" /></f:facet>
                                                                <f:facet name="input"><h:inputText value="#{jobs.jobTitle}" style="width:96%" label="Title" /></f:facet>
                                                            </p:cellEditor>
							</p:column>
                                                    <p:column headerText="Actions">
                                                        <p:commandButton value="Delete" update="@form" actionListener="#{job.delete(jobs.id)}" />
                                                    </p:column>
                                                              
                                                    
						</p:dataTable>
					</h:form>
				</b:panel>


            </b:row>
            <b:row>
                <h1>Rest Controller</h1>
                <b:panel>
                    <a href="rest/jobs/" target="blank">json >> LocationController</a>
                </b:panel>
            </b:row>
        </ui:define>
    </ui:composition>
</html>

